# TrendRadar äº§å“éœ€æ±‚æ–‡æ¡£ (PRD)

> **æ–‡æ¡£ç‰ˆæœ¬**: v2.1  
> **äº§å“ç‰ˆæœ¬**: 2.0.0  
> **æ›´æ–°æ—¥æœŸ**: 2025-12-12  
> **æ–‡æ¡£çŠ¶æ€**: âœ… å·²å‘å¸ƒ  
> **äº§å“è´Ÿè´£äºº**: TrendRadar Team

---

## æ–‡æ¡£ä¿®è®¢å†å²

| ç‰ˆæœ¬ | æ—¥æœŸ | ä¿®è®¢äºº | ä¿®è®¢å†…å®¹ |
|------|------|--------|---------|
| v2.1 | 2025-12-12 | System | æ–°å¢å¡‘æ–™æ¨¡å—ã€å†å²æ•°æ®ã€Gemini 3 Pro |
| v2.0 | 2025-12-10 | System | é‡æ„å‰ç«¯ Dashboardã€æ•°æ®æ¥æºç­›é€‰ |
| v1.0 | 2025-12-01 | System | åˆå§‹ç‰ˆæœ¬ |

---

## ç¬¬ä¸€éƒ¨åˆ†ï¼šäº§å“æ€»è§ˆ

### 1.1 äº§å“å®šä½

**TrendRadar** æ˜¯ä¸€æ¬¾é¢å‘ä¼ä¸šå†³ç­–è€…çš„ **æ™ºèƒ½æƒ…æŠ¥èšåˆä¸åˆ†æå¹³å°**ï¼Œä¸“æ³¨äºï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                 â”‚
â”‚   ğŸ“Š å¤§å®—å•†å“ä»·æ ¼ç›‘æ§  â†’  ğŸ’¹ ä¾›åº”é“¾é£é™©é¢„è­¦  â†’  ğŸ¤– AI æˆ˜ç•¥åˆ†æ   â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1.2 æ ¸å¿ƒä»·å€¼ä¸»å¼ 

| ç—›ç‚¹ | è§£å†³æ–¹æ¡ˆ | ä»·å€¼ |
|------|---------|------|
| ä¿¡æ¯åˆ†æ•£åœ¨ 20+ å¹³å° | ä¸€ç«™å¼èšåˆ | èŠ‚çœ 80% ä¿¡æ¯è·å–æ—¶é—´ |
| äººå·¥ç›‘æ§æˆæœ¬é«˜ | 7Ã—24 è‡ªåŠ¨çˆ¬å– | é›¶äººå·¥å¹²é¢„ |
| éš¾ä»¥å¿«é€Ÿå†³ç­– | AI æ·±åº¦åˆ†ææŠ¥å‘Š | åˆ†é’Ÿçº§æ´å¯Ÿ |
| ä¾›åº”é“¾é£é™©åçŸ¥åè§‰ | å®æ—¶é¢„è­¦æ¨é€ | æå‰ 24h é¢„è­¦ |

### 1.3 ç›®æ ‡ç”¨æˆ·ç”»åƒ

#### ç”¨æˆ· Aï¼šä¾›åº”é“¾ç»ç† - ç‹ç»ç†

```yaml
åŸºæœ¬ä¿¡æ¯:
  èŒä½: ä¾›åº”é“¾ç®¡ç†ç»ç†
  å…¬å¸: æ¶ˆè´¹ç”µå­åˆ¶é€ ä¼ä¸š
  å·¥ä½œå¹´é™: 8å¹´

æ ¸å¿ƒè¯‰æ±‚:
  - æ¯æ—¥æŒæ¡é“œã€é“ã€å¡‘æ–™ç­‰åŸææ–™ä»·æ ¼æ³¢åŠ¨
  - åŠæ—¶äº†è§£ä¸»è¦ä¾›åº”å•†åŠ¨æ€ï¼ˆå°ç§¯ç”µã€è‹±ä¼Ÿè¾¾äº§èƒ½ï¼‰
  - ç«äº‰å¯¹æ‰‹é‡‡è´­ç­–ç•¥å˜åŒ–

ä½¿ç”¨åœºæ™¯:
  - æ—©æ™¨ 8:30 æŸ¥çœ‹å½“æ—¥å¸‚åœºæ¦‚å†µ
  - æ”¶åˆ°ä»·æ ¼å¼‚åŠ¨æ¨é€åè°ƒæ•´é‡‡è´­è®¡åˆ’
  - æ¯å‘¨ç”Ÿæˆä¾›åº”é“¾é£é™©æŠ¥å‘Šæ±‡æŠ¥ç»™ VP

æœŸæœ›åŠŸèƒ½:
  - ä»·æ ¼æ¶¨è·Œå¹…è¶… 3% è‡ªåŠ¨æ¨é€
  - æŒ‰å•†å“åˆ†ç±»å¿«é€Ÿç­›é€‰
  - ä¸€é”®ç”Ÿæˆ PPT æ ¼å¼æŠ¥å‘Š
```

#### ç”¨æˆ· Bï¼šæŠ•èµ„ç ”ç©¶å‘˜ - æç ”ç©¶å‘˜

```yaml
åŸºæœ¬ä¿¡æ¯:
  èŒä½: è¡Œä¸šç ”ç©¶å‘˜
  å…¬å¸: åˆ¸å•†ç ”ç©¶æ‰€
  è¦†ç›–è¡Œä¸š: ç”µå­/åŠå¯¼ä½“

æ ¸å¿ƒè¯‰æ±‚:
  - è¿½è¸ªè¦†ç›–å…¬å¸çš„å®æ—¶åŠ¨æ€
  - äº§ä¸šé“¾ä¸Šä¸‹æ¸¸è”åŠ¨åˆ†æ
  - å¿«é€Ÿç”Ÿæˆç ”æŠ¥ç´ æ

ä½¿ç”¨åœºæ™¯:
  - ç›˜å‰ 30 åˆ†é’Ÿå¿«é€Ÿæµè§ˆè¡Œä¸šæ–°é—»
  - æ ¹æ®æ–°é—»å…³é”®è¯å®šå‘æœç´¢
  - è°ƒç”¨ AI ç”Ÿæˆå…¬å¸ç‚¹è¯„åˆç¨¿

æœŸæœ›åŠŸèƒ½:
  - æŒ‰å…¬å¸åç§°è¿‡æ»¤æ–°é—»
  - æ–°é—»æƒ…æ„Ÿåˆ†æï¼ˆåˆ©å¥½/åˆ©ç©ºï¼‰
  - AI æŠ¥å‘Šæ”¯æŒè‡ªå®šä¹‰æ¨¡æ¿
```

### 1.4 äº§å“æ¶æ„å…¨æ™¯å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                             ç”¨æˆ·è§¦ç‚¹å±‚                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚  Web å‰ç«¯   â”‚  â”‚  ä¼ä¸šå¾®ä¿¡   â”‚  â”‚   é£ä¹¦     â”‚  â”‚  MCP (IDE) â”‚     â”‚
â”‚  â”‚ (Dashboard) â”‚  â”‚   æ¨é€      â”‚  â”‚   æ¨é€     â”‚  â”‚   å·¥å…·     â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                             API ç½‘å…³å±‚                                    â”‚
â”‚                    FastAPI + CORS + é™æ€æ–‡ä»¶æ‰˜ç®¡                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚ /api/newsâ”‚ â”‚/api/data â”‚ â”‚/api/     â”‚ â”‚/api/     â”‚ â”‚/api/cacheâ”‚      â”‚
â”‚  â”‚          â”‚ â”‚          â”‚ â”‚analysis  â”‚ â”‚reports   â”‚ â”‚          â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                             ä¸šåŠ¡é€»è¾‘å±‚                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚  â”‚   æ•°æ®é‡‡é›†å¼•æ“  â”‚  â”‚   AI åˆ†æå¼•æ“  â”‚  â”‚   æ¨é€å¼•æ“     â”‚             â”‚
â”‚  â”‚  (Scrapers)    â”‚  â”‚  (Gemini/GPT)  â”‚  â”‚  (Notifiers)   â”‚             â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚  â”‚   æ•°æ®å¤„ç†å™¨   â”‚  â”‚   è¯é¢‘ç»Ÿè®¡å™¨   â”‚  â”‚   æŠ¥å‘Šç”Ÿæˆå™¨   â”‚             â”‚
â”‚  â”‚  (Processor)   â”‚  â”‚  (Statistics)  â”‚  â”‚  (Reporter)    â”‚             â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                             æ•°æ®å­˜å‚¨å±‚                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚  â”‚     Redis      â”‚  â”‚     MySQL      â”‚  â”‚   æ–‡ä»¶ç³»ç»Ÿ     â”‚             â”‚
â”‚  â”‚  â€¢ å®æ—¶ç¼“å­˜    â”‚  â”‚  â€¢ æ–°é—»å­˜å‚¨    â”‚  â”‚  â€¢ æŠ¥å‘Šæ–‡ä»¶    â”‚             â”‚
â”‚  â”‚  â€¢ ä»·æ ¼å†å²    â”‚  â”‚  â€¢ ç”¨æˆ·é…ç½®    â”‚  â”‚  â€¢ æ—¥å¿—æ–‡ä»¶    â”‚             â”‚
â”‚  â”‚  â€¢ ä¼šè¯çŠ¶æ€    â”‚  â”‚  â€¢ ç»Ÿè®¡æ•°æ®    â”‚  â”‚  â€¢ å¤‡ä»½æ•°æ®    â”‚             â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ç¬¬äºŒéƒ¨åˆ†ï¼šåŠŸèƒ½æ¨¡å—è¯¦è§£

---

# æ¨¡å—ä¸€ï¼šæ•°æ®é‡‡é›†å¼•æ“

## M1.1 æ¨¡å—æ¦‚è¿°

| å±æ€§ | æè¿° |
|------|------|
| **æ¨¡å—åç§°** | æ•°æ®é‡‡é›†å¼•æ“ (Data Collection Engine) |
| **æ¨¡å—è·¯å¾„** | `scrapers/` + `pacong/` |
| **æ ¸å¿ƒèŒè´£** | ä» 20+ æ•°æ®æºè‡ªåŠ¨é‡‡é›†æ–°é—»å’Œä»·æ ¼æ•°æ® |
| **æ›´æ–°é¢‘ç‡** | å®æ—¶ / æ¯ 15 åˆ†é’Ÿ / æ¯æ—¥ |
| **æ•°æ®é‡çº§** | æ—¥å‡ 5,000+ æ¡æ–°é—»ï¼Œ200+ æ¡ä»·æ ¼æ•°æ® |

## M1.2 åŠŸèƒ½æ¸…å•

### F1.2.1 è´¢ç»æ–°é—»çˆ¬è™«

**åŠŸèƒ½æè¿°**ï¼šä»ä¸»æµè´¢ç»åª’ä½“è‡ªåŠ¨æŠ“å–çƒ­ç‚¹æ–°é—»

**æ•°æ®æºçŸ©é˜µ**ï¼š

| æ•°æ®æº | çˆ¬è™«æ–‡ä»¶ | æ•°æ®ç±»å‹ | æ›´æ–°é¢‘ç‡ | åçˆ¬éš¾åº¦ | çŠ¶æ€ |
|--------|---------|---------|---------|---------|------|
| åå°”è¡—è§é—» | `finance.py` | çƒ­é—¨æ–‡ç«  + å¿«è®¯ | å®æ—¶ | â­ | âœ… |
| è´¢è”ç¤¾ | `finance.py` | çƒ­é—¨ + ç”µæŠ¥ + æ·±åº¦ | å®æ—¶ | â­ | âœ… |
| é›ªçƒ | `finance.py` | çƒ­å¸– | å®æ—¶ | â­â­ | âœ… |
| é‡‘åæ•°æ® | `finance.py` | å¿«è®¯ | å®æ—¶ | â­ | âœ… |
| æ ¼éš†æ±‡ | `finance.py` | èµ„è®¯ | å®æ—¶ | â­ | âœ… |
| ä»Šæ—¥å¤´æ¡ | `finance.py` | çƒ­æœ | å®æ—¶ | â­â­ | âœ… |
| ç™¾åº¦çƒ­æœ | `finance.py` | çƒ­æœæ¦œ | å®æ—¶ | â­ | âœ… |
| æ¾æ¹ƒæ–°é—» | `finance.py` | çƒ­ç‚¹ | å®æ—¶ | â­ | âœ… |
| 36æ°ª | `finance.py` | ç§‘æŠ€èµ„è®¯ | å®æ—¶ | â­ | âœ… |

**è¾“å‡ºæ•°æ®ç»“æ„**ï¼š

```python
class NewsItem:
    title: str           # æ–°é—»æ ‡é¢˜
    url: str             # åŸæ–‡é“¾æ¥
    source: str          # æ¥æºå¹³å°
    category: str        # åˆ†ç±» (finance/tech/news)
    rank: int            # çƒ­æ¦œæ’å (1-50)
    hotness: int         # çƒ­åº¦å€¼
    publish_time: datetime  # å‘å¸ƒæ—¶é—´
    crawl_time: datetime    # æŠ“å–æ—¶é—´
```

**ç”¨æˆ·æ•…äº‹**ï¼š
```
ä½œä¸º ä¾›åº”é“¾ç»ç†
æˆ‘å¸Œæœ› æ¯å°æ—¶è‡ªåŠ¨è·å–è´¢ç»æ–°é—»
ä»¥ä¾¿äº åŠæ—¶äº†è§£å½±å“ä¾›åº”é“¾çš„å®è§‚åŠ¨æ€
```

---

### F1.2.2 å¤§å®—å•†å“ä»·æ ¼çˆ¬è™«

**åŠŸèƒ½æè¿°**ï¼šé‡‡é›†å›½å†…å¤–å¤§å®—å•†å“å®æ—¶/ç°è´§ä»·æ ¼

**æ•°æ®æºçŸ©é˜µ**ï¼š

| æ•°æ®æº | çˆ¬è™«æ–‡ä»¶ | å•†å“ç±»å‹ | æ›´æ–°é¢‘ç‡ | çŠ¶æ€ |
|--------|---------|---------|---------|------|
| æ–°æµªæœŸè´§ | `commodity.py` | è´µé‡‘å±ã€èƒ½æº | 15åˆ†é’Ÿ | âœ… |
| Business Insider | `commodity.py` | å›½é™…å•†å“ | å®æ—¶ | âœ… |
| ä¸Šæµ·æœ‰è‰²ç½‘ (SMM) | `smm.py` | é‡‘å±ç°è´§ | æ¯æ—¥ | âœ… |
| ä¸­å¡‘åœ¨çº¿ (21CP) | `plastic21cp.py` | å¡‘æ–™ä»·æ ¼ | æ¯æ—¥ | âœ… |
| ä¸­å›½åŸæ²¹ç½‘ | `intercrude.py` | åŸæ²¹ä»·æ ¼ | æ¯æ—¥ | âœ… |

**è¾“å‡ºæ•°æ®ç»“æ„**ï¼š

```python
class CommodityPrice:
    name: str              # å•†å“åç§° (è‹±æ–‡)
    chinese_name: str      # å•†å“åç§° (ä¸­æ–‡)
    price: float           # å½“å‰ä»·æ ¼
    change_percent: float  # æ¶¨è·Œå¹… (%)
    unit: str              # å•ä½ (USD/å¨, å…ƒ/å¨)
    category: str          # åˆ†ç±» (è´µé‡‘å±/èƒ½æº/å·¥ä¸šé‡‘å±/å†œäº§å“/å¡‘æ–™)
    source: str            # æ•°æ®æ¥æº
    price_date: str        # ä»·æ ¼æ—¥æœŸ (YYYY-MM-DD)
    url: str               # æ¥æºé“¾æ¥
```

**å•†å“åˆ†ç±»ä½“ç³»**ï¼š

```
å¤§å®—å•†å“
â”œâ”€â”€ è´µé‡‘å± (Precious Metals)
â”‚   â”œâ”€â”€ é»„é‡‘ (Gold)
â”‚   â”œâ”€â”€ ç™½é“¶ (Silver)
â”‚   â”œâ”€â”€ é“‚é‡‘ (Platinum)
â”‚   â””â”€â”€ é’¯é‡‘ (Palladium)
â”‚
â”œâ”€â”€ èƒ½æº (Energy)
â”‚   â”œâ”€â”€ WTIåŸæ²¹
â”‚   â”œâ”€â”€ å¸ƒä¼¦ç‰¹åŸæ²¹
â”‚   â””â”€â”€ å¤©ç„¶æ°”
â”‚
â”œâ”€â”€ å·¥ä¸šé‡‘å± (Industrial Metals)
â”‚   â”œâ”€â”€ é“œ (Copper)
â”‚   â”œâ”€â”€ é“ (Aluminum)
â”‚   â”œâ”€â”€ é”Œ (Zinc)
â”‚   â”œâ”€â”€ é• (Nickel)
â”‚   â”œâ”€â”€ é”¡ (Tin)
â”‚   â””â”€â”€ é“… (Lead)
â”‚
â”œâ”€â”€ å†œäº§å“ (Agriculture)
â”‚   â”œâ”€â”€ ç‰ç±³ (Corn)
â”‚   â”œâ”€â”€ å°éº¦ (Wheat)
â”‚   â”œâ”€â”€ å¤§è±† (Soybeans)
â”‚   â”œâ”€â”€ æ£‰èŠ± (Cotton)
â”‚   â”œâ”€â”€ å’–å•¡ (Coffee)
â”‚   â””â”€â”€ ç³– (Sugar)
â”‚
â””â”€â”€ å¡‘æ–™ (Plastics) â­ æ–°å¢
    â”œâ”€â”€ ABS (åä¸œ/åå—/ååŒ—)
    â”œâ”€â”€ PP  (åä¸œ/åå—/ååŒ—)
    â”œâ”€â”€ PE  (åä¸œ/åå—/ååŒ—)
    â”œâ”€â”€ GPPS (åä¸œ/åå—)
    â”œâ”€â”€ GPPSä½ç«¯ (åä¸œ/åå—)
    â”œâ”€â”€ HIPS (åä¸œ/åå—)
    â””â”€â”€ HIPSä½ç«¯ (åä¸œ/åå—)
```

---

### F1.2.3 å¡‘æ–™ä»·æ ¼ä¸“é¡¹çˆ¬è™« (æ–°å¢)

**åŠŸèƒ½æè¿°**ï¼šä»ä¸­å¡‘åœ¨çº¿ (21CP) é‡‡é›†å¡‘æ–™ä»·æ ¼æ•°æ®ï¼Œæ”¯æŒåŒºåŸŸåˆ’åˆ†å’Œå†å²æ•°æ®

**ä¸šåŠ¡èƒŒæ™¯**ï¼š
- å¡‘æ–™æ˜¯æ¶ˆè´¹ç”µå­ã€æ±½è½¦é›¶éƒ¨ä»¶çš„æ ¸å¿ƒåŸææ–™
- ä»·æ ¼æ³¢åŠ¨ç›´æ¥å½±å“åˆ¶é€ æˆæœ¬
- éœ€è¦æŒ‰åŒºåŸŸï¼ˆåä¸œ/åå—/ååŒ—ï¼‰åˆ†åˆ«ç›‘æ§

**äº§å“æ¸…å•**ï¼š

| äº§å“ä»£ç  | äº§å“åç§° | åŒºåŸŸ | è¯´æ˜ |
|---------|---------|------|------|
| `abs_south` | ABS(åå—) | åå— | ä¸™çƒ¯è…ˆ-ä¸äºŒçƒ¯-è‹¯ä¹™çƒ¯å…±èšç‰© |
| `abs_east` | ABS(åä¸œ) | åä¸œ | åŒä¸Š |
| `abs_north` | ABS(ååŒ—) | ååŒ— | åŒä¸Š |
| `pp_east` | PP(åä¸œ) | åä¸œ | èšä¸™çƒ¯ |
| `pp_south` | PP(åå—) | åå— | åŒä¸Š |
| `pp_north` | PP(ååŒ—) | ååŒ— | åŒä¸Š |
| `pe_east` | PE(åä¸œ) | åä¸œ | èšä¹™çƒ¯ |
| `pe_south` | PE(åå—) | åå— | åŒä¸Š |
| `pe_north` | PE(ååŒ—) | ååŒ— | åŒä¸Š |
| `gpps_east` | GPPS(åä¸œ) | åä¸œ | é€šç”¨çº§èšè‹¯ä¹™çƒ¯ |
| `gpps_south` | GPPS(åå—) | åå— | åŒä¸Š |
| `hips_east` | HIPS(åä¸œ) | åä¸œ | é«˜æŠ—å†²èšè‹¯ä¹™çƒ¯ |
| `hips_south` | HIPS(åå—) | åå— | åŒä¸Š |

**API æ¥å£**ï¼š

```
GET  /api/data
     è¿”å›æ‰€æœ‰å•†å“å®æ—¶ä»·æ ¼ï¼ˆå«å¡‘æ–™ï¼‰

POST /api/price-history/init-plastics?days=30
     åˆå§‹åŒ–å¡‘æ–™å†å²æ•°æ®ï¼ˆä»ä¸­å¡‘åœ¨çº¿æ‹‰å–è¿‡å»30å¤©ï¼‰

GET  /api/price-history?commodity=ABS(åå—)&days=30
     æŸ¥è¯¢æŒ‡å®šå•†å“çš„å†å²ä»·æ ¼
```

**ç”¨æˆ·æ•…äº‹**ï¼š
```
ä½œä¸º é‡‡è´­ç»ç†
æˆ‘å¸Œæœ› åŒæ—¶æŸ¥çœ‹ ABS åœ¨åä¸œã€åå—ã€ååŒ—çš„ä»·æ ¼
ä»¥ä¾¿äº é€‰æ‹©æˆæœ¬æœ€ä¼˜çš„é‡‡è´­åŒºåŸŸ
```

---

## M1.3 æ•°æ®å¤„ç†æµç¨‹

### æ•°æ®å»é‡ç®—æ³•

```python
def deduplicate_news(news_list: List[NewsItem]) -> List[NewsItem]:
    """
    åŸºäºæ ‡é¢˜ç›¸ä¼¼åº¦å»é‡
    
    ç®—æ³•ï¼š
    1. åˆ†è¯ + Jaccard ç›¸ä¼¼åº¦
    2. ç¼–è¾‘è·ç¦»è¾…åŠ©åˆ¤æ–­
    3. ç›¸ä¼¼åº¦ > 0.7 è§†ä¸ºé‡å¤
    """
    unique_news = []
    for news in news_list:
        is_duplicate = False
        for existing in unique_news:
            similarity = calculate_similarity(news.title, existing.title)
            if similarity > 0.7:
                is_duplicate = True
                break
        if not is_duplicate:
            unique_news.append(news)
    return unique_news
```

### å•†å“åç§°å½’ä¸€åŒ–

```python
COMMODITY_ALIASES = {
    # é»„é‡‘
    'Gold': 'é»„é‡‘',
    'COMEXé»„é‡‘': 'é»„é‡‘',
    'COMEX Gold': 'é»„é‡‘',
    'å›½é™…é‡‘ä»·': 'é»„é‡‘',
    'XAU': 'é»„é‡‘',
    
    # åŸæ²¹
    'Oil (WTI)': 'WTIåŸæ²¹',
    'WTI Crude Oil': 'WTIåŸæ²¹',
    'Crude Oil WTI': 'WTIåŸæ²¹',
    
    # ... æ›´å¤šæ˜ å°„
}
```

---

# æ¨¡å—äºŒï¼šå¤§å®—å•†å“ç›‘æ§

## M2.1 æ¨¡å—æ¦‚è¿°

| å±æ€§ | æè¿° |
|------|------|
| **æ¨¡å—åç§°** | å¤§å®—å•†å“ç›‘æ§ (Commodity Monitor) |
| **å‰ç«¯é¡µé¢** | Dashboard (`/`) |
| **åç«¯è·¯ç”±** | `/api/data`, `/api/price-history` |
| **æ ¸å¿ƒèŒè´£** | å®æ—¶ä»·æ ¼å±•ç¤ºã€å†å²è¶‹åŠ¿åˆ†æã€å¤šç»´åº¦ç­›é€‰ |

## M2.2 åŠŸèƒ½æ¸…å•

### F2.2.1 å•†å“åˆ†ç±» TAB

**åŠŸèƒ½æè¿°**ï¼šæŒ‰å•†å“ç±»å‹å¿«é€Ÿåˆ‡æ¢è§†å›¾

**äº¤äº’è®¾è®¡**ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [é‡‘å±(23)] [èƒ½æº(8)] [å¡‘æ–™(17)] [å…¨éƒ¨(56)]                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  å½“ TAB = å¡‘æ–™ æ—¶ï¼Œæ˜¾ç¤ºå­åˆ†ç±»ï¼š                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ å¤§ç±»: [å…¨éƒ¨] [ABS(3)] [PP(3)] [PE(3)] [GPPS(4)] [HIPS(4)]  â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**å¡‘æ–™å­åˆ†ç±»é…ç½®**ï¼š

```javascript
const PLASTIC_SUB_TABS = [
    { id: 'all', name: 'å…¨éƒ¨', color: '#6b7280' },
    { id: 'ABS', name: 'ABS', color: '#3b82f6', desc: 'ä¸™çƒ¯è…ˆ-ä¸äºŒçƒ¯-è‹¯ä¹™çƒ¯å…±èšç‰©' },
    { id: 'PP', name: 'PP', color: '#10b981', desc: 'èšä¸™çƒ¯' },
    { id: 'PE', name: 'PE', color: '#f59e0b', desc: 'èšä¹™çƒ¯' },
    { id: 'GPPS', name: 'GPPS', color: '#a855f7', desc: 'é€šç”¨çº§èšè‹¯ä¹™çƒ¯ï¼ˆå«ä½ç«¯ï¼‰' },
    { id: 'HIPS', name: 'HIPS', color: '#7c3aed', desc: 'é«˜æŠ—å†²èšè‹¯ä¹™çƒ¯ï¼ˆå«ä½ç«¯ï¼‰' },
    { id: 'PVC', name: 'PVC', color: '#ef4444', desc: 'èšæ°¯ä¹™çƒ¯' },
    { id: 'PA66', name: 'PA66', color: '#ec4899', desc: 'å°¼é¾™66' },
    { id: 'PC', name: 'PC', color: '#06b6d4', desc: 'èšç¢³é…¸é…¯' },
    { id: 'PET', name: 'PET', color: '#84cc16', desc: 'èšå¯¹è‹¯äºŒç”²é…¸ä¹™äºŒé†‡é…¯' },
];
```

**ç”¨æˆ·æ•…äº‹**ï¼š
```
ä½œä¸º å¡‘æ–™é‡‡è´­å‘˜
æˆ‘å¸Œæœ› å¿«é€Ÿåˆ‡æ¢æŸ¥çœ‹ ABSã€PPã€PE å„å“ç±»çš„ä»·æ ¼
ä»¥ä¾¿äº é’ˆå¯¹æ€§åœ°ç›‘æ§æˆ‘è´Ÿè´£çš„å“ç±»
```

---

### F2.2.2 æ•°æ®æ¥æºç­›é€‰

**åŠŸèƒ½æè¿°**ï¼šæŒ‰å›½å®¶/ç½‘ç«™è¿‡æ»¤å•†å“æ•°æ®

**äº¤äº’è®¾è®¡**ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸŒ å…¨éƒ¨å›½å®¶ â–¼    å•†å“ (6/56) â–¼                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ä¸‹æ‹‰èœå•ï¼š                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                        â”‚
â”‚  â”‚ ğŸŒ å…¨éƒ¨å›½å®¶ (56å•†å“) â”‚                                        â”‚
â”‚  â”‚ ğŸ‡¨ğŸ‡³ ä¸­å›½ (35å•†å“)    â”‚ â† å«ï¼šæ–°æµªæœŸè´§ã€SMMã€ä¸­å¡‘åœ¨çº¿          â”‚
â”‚  â”‚ ğŸ‡ºğŸ‡¸ ç¾å›½ (12å•†å“)    â”‚ â† å«ï¼šBusiness Insiderã€COMEX          â”‚
â”‚  â”‚ ğŸ‡¬ğŸ‡§ è‹±å›½ (6å•†å“)     â”‚ â† å«ï¼šLME                              â”‚
â”‚  â”‚ ğŸ‡¯ğŸ‡µ æ—¥æœ¬ (3å•†å“)     â”‚ â† å«ï¼šTOCOM                            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æ•°æ®æ¥æºé…ç½®** (`/api/data/sources`)ï¼š

```json
{
  "CN": {
    "name": "ä¸­å›½",
    "flag": "ğŸ‡¨ğŸ‡³",
    "websites": [
      { "id": "sina_futures", "name": "æ–°æµªæœŸè´§", "commodities": ["æ²ªé‡‘", "æ²ªé“¶", ...] },
      { "id": "smm", "name": "ä¸Šæµ·æœ‰è‰²ç½‘", "commodities": ["SMMé“œ", "SMMé“", ...] },
      { "id": "21cp", "name": "ä¸­å¡‘åœ¨çº¿", "commodities": ["ABS(åå—)", "PP(åä¸œ)", ...] }
    ]
  },
  "US": {
    "name": "ç¾å›½",
    "flag": "ğŸ‡ºğŸ‡¸",
    "websites": [
      { "id": "business_insider", "name": "Business Insider", "commodities": ["Gold", ...] },
      { "id": "comex", "name": "COMEX", "commodities": ["COMEXé»„é‡‘", ...] }
    ]
  }
}
```

---

### F2.2.3 å•†å“å¡ç‰‡

**åŠŸèƒ½æè¿°**ï¼šå•ä¸ªå•†å“çš„ä»·æ ¼ã€æ¶¨è·Œå¹…ã€è¶‹åŠ¿å›¾å±•ç¤º

**å¡ç‰‡å¸ƒå±€**ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ABS(åå—)                                          ä¸­å¡‘åœ¨çº¿    â”‚
â”‚  Â¥8,050.00                                         +0.00%      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚                     ğŸ“ˆ è¶‹åŠ¿å›¾                               â”‚â”‚
â”‚  â”‚     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€               â”‚â”‚
â”‚  â”‚    /                                                        â”‚â”‚
â”‚  â”‚   /                                                         â”‚â”‚
â”‚  â”‚  /                                                          â”‚â”‚
â”‚  â”‚ â”€                                                           â”‚â”‚
â”‚  â”‚ 12/05    12/06    12/07    12/08    12/09    12/10   12/11 â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚  [åä¸œ: Â¥8,100]  [åå—: Â¥8,050]  [ååŒ—: Â¥8,000]   â† å¤šåŒºåŸŸ     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**å¤šåŒºåŸŸæŠ˜çº¿å›¾**ï¼š

- åŒä¸€å•†å“ï¼ˆå¦‚ ABSï¼‰åœ¨ä¸åŒåŒºåŸŸçš„ä»·æ ¼ç”¨ä¸åŒé¢œè‰²æŠ˜çº¿å±•ç¤º
- åä¸œï¼šè“è‰² `#3b82f6`
- åå—ï¼šç»¿è‰² `#10b981`
- ååŒ—ï¼šæ©™è‰² `#f59e0b`

---

### F2.2.4 ä»·æ ¼å†å²ä¸è¶‹åŠ¿

**åŠŸèƒ½æè¿°**ï¼šå­˜å‚¨å’Œå±•ç¤ºå•†å“å†å²ä»·æ ¼

**å­˜å‚¨æ–¹æ¡ˆ** (Redis Hash)ï¼š

```
Key: trendradar:history:ABS(åå—)
Field: 2025-12-11
Value: {"price": 8050.0, "change_percent": 0.0, "source": "ä¸­å¡‘åœ¨çº¿"}

Field: 2025-12-10
Value: {"price": 8050.0, "change_percent": -0.5, "source": "ä¸­å¡‘åœ¨çº¿"}
...
```

**API æ¥å£**ï¼š

| æ–¹æ³• | è·¯å¾„ | å‚æ•° | è¯´æ˜ |
|------|------|------|------|
| GET | `/api/price-history` | `commodity`, `days` | æŸ¥è¯¢å†å²ä»·æ ¼ |
| POST | `/api/price-history/init-plastics` | `days` | åˆå§‹åŒ–å¡‘æ–™å†å² |

**æ—¶é—´èŒƒå›´åˆ‡æ¢**ï¼š

| é€‰é¡¹ | å¤©æ•° | æ•°æ®ç‚¹ |
|------|------|--------|
| æ—¥ | 1 | 24 (æŒ‰å°æ—¶) |
| å‘¨ | 7 | 7 (æŒ‰å¤©) |
| æœˆ | 30 | 30 (æŒ‰å¤©) |

---

# æ¨¡å—ä¸‰ï¼šæ–°é—»èšåˆä¸­å¿ƒ

## M3.1 æ¨¡å—æ¦‚è¿°

| å±æ€§ | æè¿° |
|------|------|
| **æ¨¡å—åç§°** | æ–°é—»èšåˆä¸­å¿ƒ (News Aggregation Hub) |
| **å‰ç«¯é¡µé¢** | TrendRadar (`/trend`) |
| **åç«¯è·¯ç”±** | `/api/news/*` |
| **æ ¸å¿ƒèŒè´£** | æ–°é—»åˆ†ç±»ã€è¿‡æ»¤ã€æœç´¢ã€é˜…è¯» |

## M3.2 åŠŸèƒ½æ¸…å•

### F3.2.1 æ–°é—»åˆ†ç±»ä½“ç³»

**åˆ†ç±»é…ç½®**ï¼š

```yaml
categories:
  finance:
    name: "è´¢ç»"
    icon: "ğŸ’°"
    keywords: ["è‚¡ç¥¨", "åŸºé‡‘", "Aè‚¡", "ç¾è‚¡", "å¤®è¡Œ", "åˆ©ç‡"]
    
  commodity:
    name: "å¤§å®—å•†å“"
    icon: "ğŸ“Š"
    keywords: ["é“œ", "é“", "é»„é‡‘", "ç™½é“¶", "ç¨€åœŸ", "é”‚ç”µ"]
    
  plastics:
    name: "å¡‘æ–™"
    icon: "ğŸ§ª"
    keywords: ["å¡‘æ–™", "ABS", "PP", "PE", "PVC", "æ³¨å¡‘", "å·¥ç¨‹å¡‘æ–™"]
    
  tariff:
    name: "å…³ç¨æ”¿ç­–"
    icon: "âš–ï¸"
    keywords: ["å…³ç¨", "è´¸æ˜“æˆ˜", "åˆ¶è£", "å‡ºå£ç®¡åˆ¶", "å®ä½“æ¸…å•"]
    
  supply_chain:
    name: "ä¾›åº”é“¾"
    icon: "ğŸ”—"
    keywords: ["ç«‹è®¯", "è‹¹æœ", "åä¸º", "è‹±ä¼Ÿè¾¾", "å°ç§¯ç”µ", "ä¾›åº”é“¾"]
```

**API æ¥å£**ï¼š

```
GET /api/news/finance      # è´¢ç»æ–°é—»
GET /api/news/commodity    # å¤§å®—å•†å“æ–°é—»
GET /api/news/plastics     # å¡‘æ–™è¡Œä¸šæ–°é—»
GET /api/news/tariff       # å…³ç¨æ”¿ç­–æ–°é—»
GET /api/news/supply-chain # ä¾›åº”é“¾æ–°é—»
```

---

### F3.2.2 ä¾›åº”é“¾æ–°é—»è¿‡æ»¤

**åŠŸèƒ½æè¿°**ï¼šåŸºäºé¢„å®šä¹‰å…³é”®è¯ä½“ç³»è¿‡æ»¤ä¸ä¾›åº”é“¾ç›¸å…³çš„æ–°é—»

**å…³é”®è¯ä½“ç³»**ï¼š

```python
SUPPLY_CHAIN_KEYWORDS = {
    # ç«äº‰å¯¹æ‰‹
    'competitors': [
        'Credo', 'æ—­åˆ›', 'æ–°æ˜“ç››', 'å¤©å­š', 'å…‰è¿…',
        'å®‰è´¹è¯º', 'è«ä»•', 'TE', 'ä¸­èˆª', 'é¹é¼',
        'ä¸œå±±ç²¾å¯†', 'é¢†ç›Šæ™ºé€ ', 'æ­Œå°”', 'è“æ€'
    ],
    
    # å®¢æˆ·
    'customers': [
        'è‹¹æœ', 'Apple', 'iPhone', 'AirPods',
        'åä¸º', 'Meta', 'Quest', 'ç‰¹æ–¯æ‹‰', 'Tesla'
    ],
    
    # ä¾›åº”å•†
    'suppliers': [
        'Marvell', 'Broadcom', 'Cisco', 'å°ç§¯ç”µ',
        'Semtech', 'ADI', 'ST', 'TI', 'MPS'
    ],
    
    # åŸææ–™
    'materials': [
        'IC', 'PCB', 'è¿æ¥å™¨', 'æ³¨å¡‘', 'å‹é“¸',
        'ç”µé˜»', 'ç”µå®¹', 'èŠ¯ç‰‡', 'åŠå¯¼ä½“', 'é“œ', 'é“', 'å¡‘æ–™'
    ],
    
    # å…³ç¨
    'tariff': [
        'å…³ç¨', 'è´¸æ˜“æˆ˜', 'åˆ¶è£', 'å‡ºå£ç®¡åˆ¶',
        'å®ä½“æ¸…å•', 'æµ·å…³', 'ä¸­ç¾'
    ]
}
```

---

### F3.2.3 æ–°é—»é˜…è¯»å™¨

**åŠŸèƒ½æè¿°**ï¼šå¯¹äºéœ€è¦ç™»å½•æ‰èƒ½é˜…è¯»çš„ç«™ç‚¹ï¼Œæä¾›ä»£ç†é˜…è¯»åŠŸèƒ½

**å·¥ä½œæµç¨‹**ï¼š

```
1. ç”¨æˆ·ç‚¹å‡»æ–°é—»æ ‡é¢˜
2. å‰ç«¯è¯·æ±‚ /api/reader/{news_id}
3. åç«¯æ£€æŸ¥ Redis ç¼“å­˜
   - æœ‰ç¼“å­˜ï¼šç›´æ¥è¿”å›å†…å®¹
   - æ— ç¼“å­˜ï¼šçˆ¬å–å†…å®¹ â†’ å­˜å‚¨ â†’ è¿”å›
4. å‰ç«¯æ¸²æŸ“æ–‡ç« å†…å®¹
```

**é€‚ç”¨åœºæ™¯**ï¼š
- Plasway éœ€è¦ç™»å½•çš„æ–‡ç« 
- æœ‰ Paywall çš„æ–°é—»ç«™ç‚¹

---

# æ¨¡å—å››ï¼šAI åˆ†æå¼•æ“

## M4.1 æ¨¡å—æ¦‚è¿°

| å±æ€§ | æè¿° |
|------|------|
| **æ¨¡å—åç§°** | AI åˆ†æå¼•æ“ (AI Analysis Engine) |
| **åç«¯è·¯ç”±** | `/api/market-analysis`, `/api/generate-analysis` |
| **æ ¸å¿ƒèŒè´£** | è°ƒç”¨ AI æ¨¡å‹ç”Ÿæˆåˆ†ææŠ¥å‘Š |
| **æ”¯æŒæ¨¡å‹** | Gemini 3 Pro, GPT-4, Claude |

## M4.2 AI æ¨¡å‹é…ç½®

### æ¨¡å‹ä¼˜å…ˆçº§

```yaml
ai:
  # å†…ç½‘ APIï¼ˆä¼˜å…ˆï¼‰
  internal:
    api_base: "http://10.180.116.2:6400/v1"
    model: "openai_gpt-oss-120b"
    timeout: 15s
    
  # å¤–ç½‘ APIï¼ˆå¤‡ç”¨ï¼‰
  external:
    api_base: "https://generativelanguage.googleapis.com/v1beta"
    api_key: "AIzaSy..."
    model: "gemini-3-pro-preview"
    thinking_level: "high"  # æ·±åº¦æ€è€ƒæ¨¡å¼
    timeout: 300s
```

### Gemini 3 Pro é›†æˆ

**è°ƒç”¨æ–¹å¼**ï¼š

```python
def call_gemini_api(api_base, api_key, model, system_prompt, user_prompt,
                    thinking_level="high", timeout=180, max_tokens=8000):
    """è°ƒç”¨ Gemini 3 Pro API"""
    url = f"{api_base}/models/{model}:generateContent"
    
    payload = {
        "contents": [{"parts": [{"text": f"{system_prompt}\n\n{user_prompt}"}]}],
        "generationConfig": {
            "maxOutputTokens": max_tokens,
            "temperature": 1.0,  # Gemini 3 å®˜æ–¹å»ºè®®
            "thinkingConfig": {
                "thinkingLevel": thinking_level  # "low" æˆ– "high"
            }
        }
    }
    
    response = requests.post(url, headers={"x-goog-api-key": api_key}, json=payload)
    return response
```

**thinking_level è¯´æ˜**ï¼š

| ç­‰çº§ | ç”¨é€” | å“åº”æ—¶é—´ |
|------|------|---------|
| `low` | å¸‚åœºæ¦‚å†µï¼ˆç®€çŸ­åˆ†æï¼‰ | ~30s |
| `high` | ä¾›åº”é“¾æ·±åº¦åˆ†æ | ~120s |

---

## M4.3 åŠŸèƒ½æ¸…å•

### F4.3.1 å¸‚åœºæ¦‚å†µåˆ†æ

**åŠŸèƒ½æè¿°**ï¼šæ¯æ—¥ç”Ÿæˆå¤§å®—å•†å“å¸‚åœºç®€æŠ¥

**API æ¥å£**ï¼š

```
GET /api/market-analysis
```

**è¾“å…¥æ•°æ®**ï¼š
- å½“æ—¥æ‰€æœ‰å•†å“ä»·æ ¼
- æŒ‰å“ç±»åˆ†ç»„
- æŒ‰æ¶¨è·Œå¹…æ’åº

**è¾“å‡ºæ ¼å¼**ï¼š

```markdown
**å¸‚åœºæ¦‚å†µ**

ä»Šæ—¥å¤§å®—å•†å“å¸‚åœºæ•´ä½“è¡¨ç°...

**è´µé‡‘å±æ¿å—**
- é»„é‡‘: $2,650 (+0.5%)
- ç™½é“¶: $31.2 (-0.3%)

**å¡‘æ–™æ¿å—**
- ABS(åå—): Â¥8,050 (æŒå¹³)
- PP(åä¸œ): Â¥7,200 (+1.2%)

**é£é™©æç¤º**
1. å…³æ³¨ç¾è”å‚¨è®®æ¯ä¼šè®®
2. é“œä»·æŒç»­èµ°å¼±...
```

---

### F4.3.2 ä¾›åº”é“¾æ·±åº¦åˆ†æ

**åŠŸèƒ½æè¿°**ï¼šç”Ÿæˆå…¬å¸çº§ä¾›åº”é“¾æˆ˜ç•¥åˆ†ææŠ¥å‘Š

**API æ¥å£**ï¼š

```
POST /api/generate-analysis

Request Body:
{
  "company_name": "ç«‹è®¯ç²¾å¯†",
  "competitors": ["ä¸­é™…æ—­åˆ›", "å¤©å­šé€šä¿¡", "å®‰è´¹è¯º"],
  "upstream": ["å°ç§¯ç”µ", "Marvell", "Broadcom"],
  "downstream": ["è‹¹æœ", "è‹±ä¼Ÿè¾¾", "ç‰¹æ–¯æ‹‰"],
  "thinking_level": "high"
}
```

**æŠ¥å‘Šç»“æ„**ï¼š

```markdown
# ç«‹è®¯æŠ€æœ¯æˆ˜ç•¥åˆ†ææŠ¥å‘Š
> ç”Ÿæˆæ—¶é—´: 2025-12-12 09:00
> AI æ¨¡å‹: gemini-3-pro-preview

## 1. æ‰§è¡Œæ‘˜è¦ (Executive Summary)
- AI ç®—åŠ›ä»æ˜¯å”¯ä¸€çœŸç¥...
- å…‰é€šä¿¡å¯¹æ‰‹"é«˜ä½å¥—ç°"å¿™...
- æˆæœ¬ç«¯"é»„é‡‘çª—å£"...

## 2. å®¢æˆ·åŠ¨æ€ (Customer Insights)
### è‹±ä¼Ÿè¾¾ (NVIDIA)
- æƒ…æŠ¥: é”å®šå°ç§¯ç”µæ˜å¹´è¿‡åŠå…ˆè¿›å°è£…äº§èƒ½
- å½±å“: å¯¹ç«‹è®¯é«˜é€Ÿé“œç¼†ä¸šåŠ¡æ˜¯é‡å¤§åˆ©å¥½

### è‹¹æœ (Apple)
- æƒ…æŠ¥: iPhone 17 äº§ä¸šé“¾å¯åŠ¨
- å½±å“: ...

## 3. ç«äº‰æ ¼å±€ (Competitive Landscape)
### ä¸­é™…æ—­åˆ›
- åŠ¨æ€: å‘å¸ƒå‡æŒå…¬å‘Š
- è§£è¯»: æš—ç¤ºè¡Œä¸šä¼°å€¼å¤„äºé«˜ä½

## 4. ä¾›åº”é“¾é£é™© (Supply Chain Risks)
- å°ç§¯ç”µ CoWoS äº§èƒ½ç´§å¼ 
- èŠ¯ç‰‡ä¾›åº”ä¸ç¡®å®šæ€§

## 5. åŸææ–™æˆæœ¬ (Material Costs)
- é“œä»·: $8,950/å¨ (-1.2%)
- ABS: Â¥8,050/å¨ (æŒå¹³)
- æˆæœ¬ç«¯å‘ˆç°"é»„é‡‘çª—å£"

## 6. æˆ˜ç•¥å»ºè®® (Strategic Recommendations)
1. åˆ©ç”¨ä½ä»·çª—å£ä¼˜åŒ–åº“å­˜æˆæœ¬
2. åŠ é€Ÿé«˜é€Ÿé“œç¼†äº§èƒ½å¸ƒå±€
3. å…³æ³¨äººå½¢æœºå™¨äººæ–°æˆ˜åœº
```

---

### F4.3.3 æŠ¥å‘Šç®¡ç†

**åŠŸèƒ½æè¿°**ï¼šå­˜å‚¨ã€æŸ¥è¯¢ã€ä¸‹è½½å†å²æŠ¥å‘Š

**API æ¥å£**ï¼š

```
GET  /api/reports              # æŠ¥å‘Šåˆ—è¡¨
GET  /api/reports/{report_id}  # æŠ¥å‘Šè¯¦æƒ…
```

**å­˜å‚¨ä½ç½®**ï¼š`reports/report_{timestamp}_{uuid}.md`

---

# æ¨¡å—äº”ï¼šæ¨é€é€šçŸ¥å¼•æ“

## M5.1 æ¨¡å—æ¦‚è¿°

| å±æ€§ | æè¿° |
|------|------|
| **æ¨¡å—åç§°** | æ¨é€é€šçŸ¥å¼•æ“ (Notification Engine) |
| **æ¨¡å—è·¯å¾„** | `core/notifiers/` |
| **æ ¸å¿ƒèŒè´£** | å°†æ–°é—»/åˆ†ææ¨é€åˆ°ä¼ä¸šåä½œå·¥å…· |
| **æ”¯æŒæ¸ é“** | 7 ä¸ª |

## M5.2 æ”¯æŒæ¸ é“

| æ¸ é“ | é…ç½®é¡¹ | æ¶ˆæ¯æ ¼å¼ | çŠ¶æ€ |
|------|--------|---------|------|
| ä¼ä¸šå¾®ä¿¡ | `wework_url` | Markdown | âœ… |
| é£ä¹¦ | `feishu_url` | Markdown | âœ… |
| é’‰é’‰ | `dingtalk_url` | Markdown | âœ… |
| Telegram | `telegram_bot_token` | HTML | âœ… |
| Email | `email_*` | HTML | âœ… |
| Bark (iOS) | `bark_url` | çº¯æ–‡æœ¬ | âœ… |
| ntfy | `ntfy_topic` | çº¯æ–‡æœ¬ | âœ… |

## M5.3 æ¨é€æ¨¡å¼

| æ¨¡å¼ | è§¦å‘æ¡ä»¶ | å†…å®¹ | é€‚ç”¨åœºæ™¯ |
|------|---------|------|---------|
| `daily` | æŒ‰æ—¶æ¨é€ | å½“æ—¥æ‰€æœ‰åŒ¹é…æ–°é—» | æ—¥æŠ¥æ€»ç»“ |
| `current` | æŒ‰æ—¶æ¨é€ | å½“å‰æ¦œå•åŒ¹é…æ–°é—» | å®æ—¶çƒ­ç‚¹ |
| `incremental` | æœ‰æ–°å¢æ‰æ¨é€ | æ–°å‡ºç°çš„æ–°é—» | é¿å…é‡å¤ |

## M5.4 æ¨é€æ—¶é—´çª—å£

```yaml
push_window:
  enabled: true
  time_range:
    start: "09:00"  # æ—©9ç‚¹å¼€å§‹
    end: "18:00"    # æ™š6ç‚¹ç»“æŸ
  once_per_day: true  # æ¯å¤©åªæ¨ä¸€æ¬¡
```

---

# æ¨¡å—å…­ï¼šMCP å·¥å…·æœåŠ¡

## M6.1 æ¨¡å—æ¦‚è¿°

| å±æ€§ | æè¿° |
|------|------|
| **æ¨¡å—åç§°** | MCP å·¥å…·æœåŠ¡ (Model Context Protocol Server) |
| **æ¨¡å—è·¯å¾„** | `mcp_server/` |
| **æ ¸å¿ƒèŒè´£** | ä¸º AI IDE (Windsurf/Cursor) æä¾›å·¥å…·æ¥å£ |
| **é€šä¿¡åè®®** | stdio |

## M6.2 å·¥å…·æ¸…å•

| å·¥å…·åç§° | åŠŸèƒ½ | å‚æ•° |
|---------|------|------|
| `get_latest_news` | è·å–æœ€æ–°æ–°é—» | `platforms`, `limit` |
| `get_news_by_date` | æŒ‰æ—¥æœŸè·å–æ–°é—» | `date_query`, `limit` |
| `search_news` | æœç´¢æ–°é—» | `query`, `search_mode`, `date_range` |
| `analyze_sentiment` | æƒ…æ„Ÿåˆ†æ | `topic`, `platforms` |
| `analyze_topic_trend` | è¯é¢˜è¶‹åŠ¿åˆ†æ | `topic`, `analysis_type` |
| `generate_summary_report` | ç”Ÿæˆæ‘˜è¦æŠ¥å‘Š | `report_type`, `date_range` |
| `trigger_crawl` | è§¦å‘çˆ¬å– | `platforms`, `save_to_local` |
| `get_trending_topics` | è·å–çƒ­é—¨è¯é¢˜ | `top_n`, `mode` |
| `find_similar_news` | æŸ¥æ‰¾ç›¸ä¼¼æ–°é—» | `reference_title`, `threshold` |
| `get_system_status` | ç³»ç»ŸçŠ¶æ€ | - |
| `get_current_config` | è·å–é…ç½® | `section` |

---

## ç¬¬ä¸‰éƒ¨åˆ†ï¼šéåŠŸèƒ½éœ€æ±‚

### 3.1 æ€§èƒ½è¦æ±‚

| æŒ‡æ ‡ | ç›®æ ‡ | å½“å‰ |
|------|------|------|
| API å“åº”æ—¶é—´ (P95) | < 500ms | ~300ms |
| é¡µé¢é¦–æ¬¡åŠ è½½ | < 3s | ~2s |
| çˆ¬è™«å•æ¬¡æ‰§è¡Œ | < 60s | ~45s |
| AI æŠ¥å‘Šç”Ÿæˆ | < 180s | ~120s |

### 3.2 å¯ç”¨æ€§è¦æ±‚

| æŒ‡æ ‡ | ç›®æ ‡ |
|------|------|
| æœåŠ¡å¯ç”¨æ€§ | 99.5% |
| æ•°æ®æ›´æ–°é¢‘ç‡ | æ¯ 15 åˆ†é’Ÿ |
| æ•…éšœæ¢å¤æ—¶é—´ | < 5 åˆ†é’Ÿ |

### 3.3 å®‰å…¨è¦æ±‚

| é¡¹ç›® | æªæ–½ |
|------|------|
| API Key å­˜å‚¨ | ç¯å¢ƒå˜é‡ / GitHub Secrets |
| Webhook ä¿æŠ¤ | ä¸åœ¨ä»£ç ä¸­ç¡¬ç¼–ç  |
| æ•°æ®ä¼ è¾“ | HTTPS |

---

## ç¬¬å››éƒ¨åˆ†ï¼šéƒ¨ç½²ä¸è¿ç»´

### 4.1 ç¯å¢ƒè¦æ±‚

```yaml
è¿è¡Œç¯å¢ƒ:
  Python: ">=3.11"
  Node.js: ">=18"
  Redis: ">=7"
  MySQL: ">=8" (å¯é€‰)
  
ç³»ç»Ÿè¦æ±‚:
  å†…å­˜: ">=4GB"
  ç£ç›˜: ">=10GB"
  ç½‘ç»œ: "ç¨³å®šçš„äº’è”ç½‘è¿æ¥"
```

### 4.2 å¿«é€Ÿå¯åŠ¨

```bash
# æ–¹å¼ä¸€ï¼šä¸€é”®å¯åŠ¨
./start.sh

# æ–¹å¼äºŒï¼šæ‰‹åŠ¨å¯åŠ¨
# 1. åç«¯
uv run uvicorn server:app --host 0.0.0.0 --port 5173

# 2. å‰ç«¯ï¼ˆå¼€å‘æ¨¡å¼ï¼‰
cd frontend && npm run dev
```

### 4.3 ç¯å¢ƒå˜é‡

| å˜é‡ | è¯´æ˜ | é»˜è®¤å€¼ |
|------|------|--------|
| `REDIS_HOST` | Redis ä¸»æœº | localhost |
| `REDIS_PORT` | Redis ç«¯å£ | 49907 |
| `AI_API_KEY` | AI API å¯†é’¥ | (é…ç½®æ–‡ä»¶) |
| `VITE_API_BASE` | å‰ç«¯ API åŸºç¡€è·¯å¾„ | '' (åŒæº) |

---

## ç¬¬äº”éƒ¨åˆ†ï¼šäº§å“è·¯çº¿å›¾

### 5.1 å·²å®Œæˆ (v2.0)

- [x] å¤šæºæ•°æ®é‡‡é›†ï¼ˆ20+ æ•°æ®æºï¼‰
- [x] å¡‘æ–™ä»·æ ¼ç›‘æ§ï¼ˆä¸­å¡‘åœ¨çº¿ï¼‰
- [x] ä»·æ ¼å†å²ä¸è¶‹åŠ¿å›¾
- [x] æ•°æ®æ¥æºç­›é€‰ï¼ˆå›½å®¶/ç½‘ç«™ï¼‰
- [x] Gemini 3 Pro é›†æˆï¼ˆthinking_levelï¼‰
- [x] ä¾›åº”é“¾æ·±åº¦åˆ†ææŠ¥å‘Š
- [x] 7 ä¸ªæ¨é€æ¸ é“
- [x] MCP å·¥å…·æœåŠ¡

### 5.2 è¿‘æœŸè§„åˆ’ (v2.1)

- [ ] ä»·æ ¼é¢„è­¦è§„åˆ™ï¼ˆæ¶¨è·Œå¹…é˜ˆå€¼ï¼‰
- [ ] æŠ¥å‘Šå®šæ—¶ç”Ÿæˆä¸æ¨é€
- [ ] è‡ªå®šä¹‰å…³é”®è¯ç›‘æ§
- [ ] ç§»åŠ¨ç«¯é€‚é…

### 5.3 ä¸­æœŸè§„åˆ’ (v3.0)

- [ ] å¤šç”¨æˆ·æ”¯æŒ
- [ ] æƒé™ç®¡ç†
- [ ] çŸ¥è¯†å›¾è°±ï¼ˆä¾›åº”é“¾å…³ç³»å›¾ï¼‰
- [ ] æœºå™¨å­¦ä¹ ä»·æ ¼é¢„æµ‹

---

## é™„å½•

### A. æœ¯è¯­è¡¨

| æœ¯è¯­ | è§£é‡Š |
|------|------|
| MCP | Model Context Protocolï¼ŒAI æ¨¡å‹ä¸Šä¸‹æ–‡åè®® |
| SMM | ä¸Šæµ·æœ‰è‰²ç½‘ (Shanghai Metals Market) |
| 21CP | ä¸­å¡‘åœ¨çº¿ (China Plastics Price) |
| CoWoS | Chip on Wafer on Substrateï¼Œå°ç§¯ç”µå…ˆè¿›å°è£…æŠ€æœ¯ |

### B. å‚è€ƒæ–‡æ¡£

- [FastAPI å®˜æ–¹æ–‡æ¡£](https://fastapi.tiangolo.com/)
- [Gemini API æ–‡æ¡£](https://ai.google.dev/docs)
- [MCP åè®®è§„èŒƒ](https://modelcontextprotocol.io/)

---

